{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Scambus Python Client","text":"<p>Official Python client for Scambus - submit scam reports and subscribe to data streams.</p> <p> </p>"},{"location":"#overview","title":"Overview","text":"<p>The Scambus Python Client provides a simple and intuitive interface for interacting with the Scambus API. It allows you to:</p> <ul> <li>Submit scam reports: Phone calls, emails, text messages, detections, and more</li> <li>Search data: Find identifiers, cases, and journal entries</li> <li>Stream events: Subscribe to real-time scam data with export streams</li> <li>Manage cases: Create and track investigation cases</li> <li>Track activities: Monitor ongoing scam interactions with in-progress activities</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>from scambus_client import ScambusClient\nfrom datetime import datetime\n\n# Initialize client\nclient = ScambusClient(\n    base_url=\"https://api.scambus.net\",\n    api_key=\"your-api-key\"\n)\n\n# Submit a scam detection\ndetection = client.create_detection(\n    description=\"Phishing email pretending to be from bank\",\n    identifiers=[\"email:scammer@example.com\"],\n    category=\"phishing\",\n    confidence=0.9\n)\n\n# Create an in-progress phone call\ncall = client.create_phone_call(\n    description=\"Suspicious tech support call\",\n    direction=\"inbound\",\n    start_time=datetime.now(),\n    identifiers=[\"phone:+1234567890\"],\n    in_progress=True  # Call is still ongoing\n)\n\n# Later... complete the call\ncall.complete(description=\"Scammer hung up after being questioned\")\n\n# Create a stream to monitor new phone scams\nstream = client.create_stream(\n    name=\"Phone Scams Monitor\",\n    filters={\"type\": \"phone_call\"}\n)\n\n# Consume events from the stream\nfor event in client.consume_stream(stream.id, limit=10):\n    print(f\"New phone scam: {event}\")\n</code></pre>"},{"location":"#features","title":"Features","text":""},{"location":"#journal-entries-scam-reports","title":"Journal Entries (Scam Reports)","text":"<p>Submit different types of scam reports including detections, phone calls, emails, text conversations, and notes.</p> <p>Learn more \u2192</p>"},{"location":"#in-progress-activities","title":"In-Progress Activities","text":"<p>Track ongoing scam interactions in real-time. Start activities without an end time and complete them later.</p> <p>Learn more \u2192</p>"},{"location":"#export-streams","title":"Export Streams","text":"<p>Subscribe to real-time scam data with filtered export streams. Consume events, recover from failures, and backfill historical data.</p> <p>Learn more \u2192</p>"},{"location":"#search","title":"Search","text":"<p>Search across identifiers, cases, and journal entries with flexible query options.</p> <p>Learn more \u2192</p>"},{"location":"#case-management","title":"Case Management","text":"<p>Create and manage investigation cases, track progress, and collaborate with team members.</p> <p>Learn more \u2192</p>"},{"location":"#installation","title":"Installation","text":"<p>Install the library:</p> <pre><code>pip install scambus-client\n</code></pre> <p>Install with CLI support:</p> <pre><code>pip install scambus-client[cli]\n</code></pre> <p>Full installation guide \u2192</p>"},{"location":"#cli-usage","title":"CLI Usage","text":"<p>The package includes a command-line interface:</p> <pre><code># Set up authentication\nexport SCAMBUS_URL=\"https://api.scambus.net\"\nexport SCAMBUS_API_KEY=\"your-api-key\"\n\n# Submit a detection\nscambus journal create-detection \\\n    --description \"Phishing website\" \\\n    --identifier email:scammer@example.com \\\n    --category phishing \\\n    --confidence 0.9\n\n# Create a data stream\nscambus streams create \\\n    --name \"High Confidence Detections\" \\\n    --filter confidence=0.9\n\n# Search for identifiers\nscambus search identifiers --query \"+1234567890\"\n</code></pre> <p>Full CLI reference \u2192</p>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Get up and running quickly</li> <li>API Reference - Complete API documentation</li> <li>Examples - Code examples for common tasks</li> <li>Contributing - Learn how to contribute</li> </ul>"},{"location":"#support","title":"Support","text":"<ul> <li>Documentation: docs.scambus.net</li> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> <li>Security: See SECURITY.md</li> </ul>"},{"location":"#license","title":"License","text":"<p>TBD</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#200-2025-01-xx","title":"2.0.0 - 2025-01-XX","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Initial public release of scambus-python-client</li> <li>Public CLI with 7 command groups (journal, media, search, streams, cases, tags, profile)</li> <li>Comprehensive documentation with MkDocs</li> <li>Full test suite with pytest</li> <li>CI/CD pipeline with GitHub Actions</li> <li>Pre-commit hooks for code quality</li> <li>Security scanning with CodeQL and Bandit</li> <li>Dependabot for automated dependency updates</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>BREAKING: Moved <code>start_time</code> and <code>end_time</code> from <code>details</code> to top-level fields in journal entries</li> <li>BREAKING: Removed all admin-only methods (40 methods)</li> <li>BREAKING: Removed all admin-only models (9 models)</li> <li>Focused scope on public API: journal entries, search, streams, cases, tags</li> </ul>"},{"location":"changelog/#removed","title":"Removed","text":"<ul> <li>Admin-only functionality (moved to separate <code>scambus-python-admin</code> package)</li> <li>User management methods</li> <li>Organization management methods</li> <li>Group management methods</li> <li>Automation management methods</li> <li>Classification rule methods</li> <li>View management methods</li> <li>Admin-only models</li> </ul>"},{"location":"changelog/#1xx-previous","title":"[1.x.x] - Previous","text":"<p>Internal versions with admin functionality included.</p>"},{"location":"api-reference/client/","title":"ScambusClient API Reference","text":"<p>Complete API reference for the <code>ScambusClient</code> class.</p>"},{"location":"api-reference/client/#class-scambusclient","title":"Class: ScambusClient","text":"<p>The main client class for interacting with the Scambus API.</p>"},{"location":"api-reference/client/#initialization","title":"Initialization","text":"<pre><code>from scambus_client import ScambusClient\n\nclient = ScambusClient(\n    api_url=\"https://api.scambus.net\",\n    api_token=\"your-api-token\"\n)\n</code></pre>"},{"location":"api-reference/client/#methods","title":"Methods","text":"<p>For detailed method documentation, see the inline docstrings in <code>scambus_client/client.py</code>.</p>"},{"location":"api-reference/client/#journal-entry-methods","title":"Journal Entry Methods","text":"<ul> <li><code>create_detection()</code> - Create a detection journal entry</li> <li><code>create_phone_call()</code> - Create a phone call journal entry</li> <li><code>create_email()</code> - Create an email journal entry</li> <li><code>create_in_progress_activity()</code> - Create an in-progress activity</li> <li><code>complete_activity()</code> - Complete an in-progress activity</li> </ul>"},{"location":"api-reference/client/#search-methods","title":"Search Methods","text":"<ul> <li><code>search_identifiers()</code> - Search for identifiers</li> <li><code>search_cases()</code> - Search for cases</li> </ul>"},{"location":"api-reference/client/#stream-methods","title":"Stream Methods","text":"<ul> <li><code>create_stream()</code> - Create an export stream</li> <li><code>list_streams()</code> - List all streams</li> <li><code>consume_stream()</code> - Consume entries from a stream</li> </ul> <p>See Models for data model documentation.</p>"},{"location":"api-reference/exceptions/","title":"Exceptions","text":"<p>Exception classes raised by the Scambus client.</p>"},{"location":"api-reference/exceptions/#exception-hierarchy","title":"Exception Hierarchy","text":"<p>All exceptions inherit from <code>ScambusAPIError</code>.</p>"},{"location":"api-reference/exceptions/#exception-classes","title":"Exception Classes","text":"<ul> <li><code>ScambusAPIError</code> - Base exception for all API errors</li> <li><code>ScambusAuthenticationError</code> - Authentication failed (401)</li> <li><code>ScambusValidationError</code> - Request validation failed (400, 422)</li> <li><code>ScambusNotFoundError</code> - Resource not found (404)</li> <li><code>ScambusServerError</code> - Server error (500+)</li> </ul>"},{"location":"api-reference/exceptions/#usage","title":"Usage","text":"<pre><code>from scambus_client import ScambusClient, ScambusAuthenticationError\n\ntry:\n    client = ScambusClient(api_url=\"...\", api_token=\"invalid\")\n    client.create_detection(...)\nexcept ScambusAuthenticationError:\n    print(\"Invalid API token\")\n</code></pre>"},{"location":"api-reference/models/","title":"Data Models","text":"<p>API response and request models.</p>"},{"location":"api-reference/models/#overview","title":"Overview","text":"<p>All data models are defined in <code>scambus_client/models.py</code>.</p>"},{"location":"api-reference/models/#core-models","title":"Core Models","text":"<ul> <li><code>JournalEntry</code> - Journal entry data</li> <li><code>Identifier</code> - Identifier data (phone, email, etc.)</li> <li><code>Case</code> - Investigation case data</li> <li><code>ExportStream</code> - Export stream data</li> <li><code>Media</code> - Media file data</li> <li><code>Tag</code> - Tag data</li> </ul>"},{"location":"api-reference/models/#detail-models","title":"Detail Models","text":"<ul> <li><code>DetectionDetails</code> - Detection-specific details</li> <li><code>PhoneCallDetails</code> - Phone call-specific details</li> <li><code>EmailDetails</code> - Email-specific details</li> </ul> <p>For complete model definitions, see the source code in <code>scambus_client/models.py</code>.</p>"},{"location":"cli-reference/cases/","title":"Case Commands","text":"<p>Manage investigation cases.</p>"},{"location":"cli-reference/cases/#commands","title":"Commands","text":"<ul> <li><code>scambus cases create</code> - Create a new case</li> <li><code>scambus cases list</code> - List cases</li> <li><code>scambus cases get</code> - Get case details</li> <li><code>scambus cases update</code> - Update a case</li> </ul>"},{"location":"cli-reference/cases/#examples","title":"Examples","text":"<pre><code>scambus cases create --title \"Phishing Campaign\" --description \"Investigation\"\nscambus cases list --status open\n</code></pre>"},{"location":"cli-reference/journal/","title":"Journal Commands","text":"<p>Manage journal entries from the command line.</p>"},{"location":"cli-reference/journal/#commands","title":"Commands","text":"<ul> <li><code>scambus journal create-detection</code> - Create a detection entry</li> <li><code>scambus journal create-phone-call</code> - Create a phone call entry</li> <li><code>scambus journal create-email</code> - Create an email entry</li> <li><code>scambus journal create-conversation</code> - Create a text conversation entry</li> <li><code>scambus journal add-conversation-messages</code> - Add messages to a conversation</li> <li><code>scambus journal list</code> - List journal entries</li> </ul>"},{"location":"cli-reference/journal/#examples","title":"Examples","text":"<pre><code>scambus journal create-detection \\\n    --description \"Phishing email detected\" \\\n    --identifier email:scammer@example.com\n</code></pre>"},{"location":"cli-reference/journal/#text-conversations","title":"Text Conversations","text":""},{"location":"cli-reference/journal/#create-a-conversation","title":"Create a Conversation","text":"<pre><code>scambus journal create-conversation \\\n    --description \"WhatsApp scam conversation\" \\\n    --platform whatsapp \\\n    --conversation-type individual \\\n    --identifier \"phone:+1555123456:scammer\" \\\n    --identifier \"phone:+1555987654:victim\"\n</code></pre>"},{"location":"cli-reference/journal/#add-initial-messages","title":"Add Initial Messages","text":"<pre><code>scambus journal add-conversation-messages &lt;conversation_id&gt; \\\n    --messages-file messages.json \\\n    --identifier \"phone:+1555123456:scammer\" \\\n    --identifier \"phone:+1555987654:victim\" \\\n    --reason \"initial import\"\n</code></pre>"},{"location":"cli-reference/journal/#add-messages-with-time-gap-non-contiguous","title":"Add Messages with Time Gap (Non-Contiguous)","text":"<p>Use <code>--non-contiguous</code> when messages don't immediately follow the previous batch:</p> <pre><code>scambus journal add-conversation-messages &lt;conversation_id&gt; \\\n    --messages-file later_messages.json \\\n    --identifier \"phone:+1555123456:scammer\" \\\n    --identifier \"phone:+1555987654:victim\" \\\n    --reason \"messages after time gap\" \\\n    --non-contiguous\n</code></pre>"},{"location":"cli-reference/journal/#messages-json-format","title":"Messages JSON Format","text":"<pre><code>[\n    {\n        \"index\": 0,\n        \"message_id\": \"msg_001\",\n        \"timestamp\": \"2025-01-15T10:00:00Z\",\n        \"body\": \"Hello, is this tech support?\",\n        \"is_outgoing\": false,\n        \"sender_ref\": \"scammer\"\n    },\n    {\n        \"index\": 1,\n        \"message_id\": \"msg_002\",\n        \"timestamp\": \"2025-01-15T10:01:00Z\",\n        \"body\": \"Yes, how can I help?\",\n        \"is_outgoing\": true,\n        \"sender_ref\": \"victim\"\n    }\n]\n</code></pre>"},{"location":"cli-reference/journal/#messages-with-identifier-references","title":"Messages with Identifier References","text":"<p>To mark identifiers within message text:</p> <pre><code>[\n    {\n        \"index\": 2,\n        \"message_id\": \"msg_003\",\n        \"timestamp\": \"2025-01-15T10:02:00Z\",\n        \"body\": \"Send gift cards to +1555999888\",\n        \"is_outgoing\": false,\n        \"sender_ref\": \"scammer\",\n        \"identifier_refs\": [\n            {\n                \"ref\": \"payment_phone\",\n                \"field\": \"body\",\n                \"position\": 21,\n                \"length\": 12\n            }\n        ]\n    }\n]\n</code></pre> <p>Note: <code>position</code> and <code>length</code> are byte offsets (UTF-8 encoded).</p>"},{"location":"cli-reference/overview/","title":"CLI Overview","text":"<p>The Scambus CLI provides command-line access to Scambus functionality.</p>"},{"location":"cli-reference/overview/#installation","title":"Installation","text":"<pre><code>pip install scambus-client[cli]\n</code></pre>"},{"location":"cli-reference/overview/#configuration","title":"Configuration","text":"<p>Set your API key:</p> <pre><code>export SCAMBUS_API_KEY=\"your-api-token\"\nexport SCAMBUS_URL=\"https://api.scambus.net\"  # Optional\n</code></pre>"},{"location":"cli-reference/overview/#usage","title":"Usage","text":"<pre><code>scambus --help\n</code></pre>"},{"location":"cli-reference/overview/#command-groups","title":"Command Groups","text":"<ul> <li><code>journal</code> - Manage journal entries</li> <li><code>search</code> - Search identifiers and cases</li> <li><code>streams</code> - Manage export streams</li> <li><code>cases</code> - Manage investigation cases</li> <li><code>profile</code> - View and manage your profile</li> <li><code>media</code> - Upload and manage media files</li> <li><code>tags</code> - Manage tags</li> </ul> <p>See individual command group pages for detailed documentation.</p>"},{"location":"cli-reference/profile/","title":"Profile Commands","text":"<p>View and manage your Scambus profile.</p>"},{"location":"cli-reference/profile/#commands","title":"Commands","text":"<ul> <li><code>scambus profile show</code> - Display profile information</li> <li><code>scambus profile update</code> - Update profile settings</li> </ul>"},{"location":"cli-reference/profile/#examples","title":"Examples","text":"<pre><code>scambus profile show\n</code></pre>"},{"location":"cli-reference/search/","title":"Search Commands","text":"<p>Search for identifiers and cases.</p>"},{"location":"cli-reference/search/#commands","title":"Commands","text":"<ul> <li><code>scambus search identifiers</code> - Search identifiers</li> <li><code>scambus search cases</code> - Search cases</li> </ul>"},{"location":"cli-reference/search/#examples","title":"Examples","text":"<pre><code>scambus search identifiers --query \"+1234567890\"\nscambus search cases --query \"phishing\" --status open\n</code></pre>"},{"location":"cli-reference/streams/","title":"Stream Commands","text":"<p>Manage export streams.</p>"},{"location":"cli-reference/streams/#commands","title":"Commands","text":"<ul> <li><code>scambus streams create</code> - Create a new stream</li> <li><code>scambus streams list</code> - List all streams</li> <li><code>scambus streams consume</code> - Consume entries from a stream</li> </ul>"},{"location":"cli-reference/streams/#examples","title":"Examples","text":"<pre><code>scambus streams create --name \"Phone Scams\" --filter type=phone_call\nscambus streams consume --stream-id abc123\n</code></pre>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Contributions to the Scambus Python client are welcome!</p>"},{"location":"development/contributing/#development-setup","title":"Development Setup","text":"<pre><code>git clone https://github.com/scambus/python-client\ncd python-client\npip install -e \".[dev]\"\n</code></pre>"},{"location":"development/contributing/#running-tests","title":"Running Tests","text":"<pre><code>pytest tests/\n</code></pre>"},{"location":"development/contributing/#code-quality","title":"Code Quality","text":"<p>We use: - black for code formatting - ruff for linting - mypy for type checking - isort for import sorting</p> <p>Run all checks:</p> <pre><code>black scambus_client/ scambus_cli/ tests/\nisort scambus_client/ scambus_cli/ tests/\nruff check scambus_client/ scambus_cli/ tests/\nmypy scambus_client/ scambus_cli/\n</code></pre>"},{"location":"development/contributing/#submitting-changes","title":"Submitting Changes","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Run tests and linting</li> <li>Submit a pull request</li> </ol> <p>See Testing for test guidelines.</p>"},{"location":"development/releases/","title":"Release Process","text":"<p>How releases are created and published.</p>"},{"location":"development/releases/#versioning","title":"Versioning","text":"<p>We use Semantic Versioning:</p> <ul> <li>MAJOR: Breaking changes</li> <li>MINOR: New features (backwards compatible)</li> <li>PATCH: Bug fixes</li> </ul>"},{"location":"development/releases/#creating-a-release","title":"Creating a Release","text":"<ol> <li>Update version in <code>pyproject.toml</code></li> <li>Update <code>CHANGELOG.md</code></li> <li>Commit changes</li> <li>Create and push a tag: <code>git tag v1.2.3 &amp;&amp; git push origin v1.2.3</code></li> <li>GitHub Actions will automatically build and publish to PyPI</li> </ol>"},{"location":"development/releases/#changelog-format","title":"Changelog Format","text":"<p>Follow Keep a Changelog format:</p> <pre><code>## [1.2.3] - 2025-01-15\n\n### Added\n- New feature description\n\n### Fixed\n- Bug fix description\n</code></pre>"},{"location":"development/testing/","title":"Testing","text":"<p>Guidelines for testing the Scambus Python client.</p>"},{"location":"development/testing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest tests/\n\n# Run unit tests only\npytest tests/ -m \"not integration\"\n\n# Run with coverage\npytest tests/ --cov=scambus_client --cov=scambus_cli\n</code></pre>"},{"location":"development/testing/#writing-tests","title":"Writing Tests","text":"<ul> <li>Place unit tests in <code>tests/</code></li> <li>Place integration tests in <code>tests/integration/</code></li> <li>Mark integration tests with <code>@pytest.mark.integration</code></li> <li>Use fixtures from <code>tests/conftest.py</code></li> </ul>"},{"location":"development/testing/#test-structure","title":"Test Structure","text":"<pre><code>import pytest\nfrom scambus_client import ScambusClient\n\ndef test_example(client):\n    \"\"\"Test description.\"\"\"\n    result = client.some_method()\n    assert result is not None\n</code></pre> <p>See Contributing for development guidelines.</p>"},{"location":"examples/advanced/","title":"Advanced Examples","text":"<p>Advanced usage patterns and integrations.</p>"},{"location":"examples/advanced/#working-with-export-streams","title":"Working with Export Streams","text":"<pre><code>from scambus_client import ScambusClient\n\nclient = ScambusClient(api_url=\"...\", api_token=\"...\")\n\n# Create a stream\nstream = client.create_stream(\n    name=\"High Priority Phone Scams\",\n    filters={\"type\": \"phone_call\", \"confidence_min\": 0.8}\n)\n\n# Consume entries\ncursor = stream.cursor\nwhile True:\n    entries, new_cursor = client.consume_stream(stream.id, cursor)\n    for entry in entries:\n        process_entry(entry)\n    cursor = new_cursor\n    time.sleep(60)  # Poll every minute\n</code></pre>"},{"location":"examples/advanced/#batch-operations","title":"Batch Operations","text":"<pre><code># Create multiple detections\nidentifiers = [\n    \"email:scam1@example.com\",\n    \"email:scam2@example.com\",\n    \"email:scam3@example.com\"\n]\n\nfor identifier in identifiers:\n    client.create_detection(\n        description=f\"Scam from {identifier}\",\n        identifiers=[identifier],\n        category=\"phishing\"\n    )\n</code></pre> <p>See the examples directory for complete working examples.</p>"},{"location":"examples/basic-usage/","title":"Basic Usage Examples","text":"<p>Simple examples to get started with the Scambus Python client.</p>"},{"location":"examples/basic-usage/#installation","title":"Installation","text":"<pre><code>pip install scambus-client\n</code></pre>"},{"location":"examples/basic-usage/#creating-a-detection","title":"Creating a Detection","text":"<pre><code>from scambus_client import ScambusClient\n\nclient = ScambusClient(\n    api_url=\"https://api.scambus.net\",\n    api_token=\"your-api-token\"\n)\n\n# Create a detection journal entry\nentry = client.create_detection(\n    description=\"Phishing email from fake bank\",\n    identifiers=[\"email:scammer@example.com\"],\n    category=\"phishing\",\n    confidence=0.95\n)\n\nprint(f\"Created entry: {entry.id}\")\n</code></pre>"},{"location":"examples/basic-usage/#searching-for-identifiers","title":"Searching for Identifiers","text":"<pre><code># Search for an identifier\nresults = client.search_identifiers(\n    query=\"+1234567890\",\n    identifier_type=\"phone\"\n)\n\nfor identifier in results:\n    print(f\"{identifier.type}: {identifier.display_value}\")\n</code></pre> <p>See Advanced Examples for more complex use cases.</p>"},{"location":"getting-started/authentication/","title":"Authentication","text":"<p>The Scambus Python Client uses API key authentication to secure access to the API.</p>"},{"location":"getting-started/authentication/#getting-an-api-key","title":"Getting an API Key","text":"<p>To get an API key:</p> <ol> <li>Log in to your Scambus account at scambus.net</li> <li>Navigate to Settings \u2192 API Keys</li> <li>Click \"Generate New API Key\"</li> <li>Copy and securely store your API key</li> </ol> <p>Keep your API key secure</p> <ul> <li>Never commit API keys to version control</li> <li>Never share API keys publicly</li> <li>Use environment variables or secure secret management</li> <li>Rotate keys regularly</li> </ul>"},{"location":"getting-started/authentication/#using-api-keys","title":"Using API Keys","text":""},{"location":"getting-started/authentication/#environment-variables-recommended","title":"Environment Variables (Recommended)","text":"<p>The most secure way to use API keys is through environment variables:</p> <pre><code>export SCAMBUS_URL=\"https://api.scambus.net\"\nexport SCAMBUS_API_KEY=\"your-api-key\"\n</code></pre> <p>Then in your code:</p> <pre><code>import os\nfrom scambus_client import ScambusClient\n\nclient = ScambusClient(\n    base_url=os.getenv('SCAMBUS_URL'),\n    api_key=os.getenv('SCAMBUS_API_KEY')\n)\n</code></pre>"},{"location":"getting-started/authentication/#direct-initialization","title":"Direct Initialization","text":"<p>For testing or scripts:</p> <pre><code>from scambus_client import ScambusClient\n\nclient = ScambusClient(\n    base_url=\"https://api.scambus.net\",\n    api_key=\"your-api-key\"\n)\n</code></pre> <p>Security Risk</p> <p>Avoid hardcoding API keys in your source code. Use environment variables or secure secret management instead.</p>"},{"location":"getting-started/authentication/#configuration-file","title":"Configuration File","text":"<p>For applications, consider using a configuration file:</p> <pre><code># config.py\nimport os\nfrom pathlib import Path\n\ndef load_config():\n    config_file = Path.home() / '.scambus' / 'config.json'\n    # Load and return configuration\n    pass\n</code></pre> <p>Keep the configuration file outside of version control:</p> <pre><code># .gitignore\n.scambus/\nconfig.json\n</code></pre>"},{"location":"getting-started/authentication/#cli-authentication","title":"CLI Authentication","text":"<p>The CLI uses environment variables:</p> <pre><code># Set environment variables\nexport SCAMBUS_URL=\"https://api.scambus.net\"\nexport SCAMBUS_API_KEY=\"your-api-key\"\n\n# Use the CLI\nscambus journal create-detection --description \"Test\"\n</code></pre> <p>Alternatively, create a shell script:</p> <pre><code>#!/bin/bash\n# scambus-env.sh\n\nexport SCAMBUS_URL=\"https://api.scambus.net\"\nexport SCAMBUS_API_KEY=\"your-api-key\"\n</code></pre> <p>Source it before using the CLI:</p> <pre><code>source scambus-env.sh\nscambus journal create-detection --description \"Test\"\n</code></pre>"},{"location":"getting-started/authentication/#multiple-environments","title":"Multiple Environments","text":"<p>For different environments (dev, staging, production):</p> <pre><code>import os\n\nENV = os.getenv('ENV', 'production')\n\nCONFIGS = {\n    'development': {\n        'base_url': 'https://dev-api.scambus.net',\n        'api_key': os.getenv('SCAMBUS_DEV_API_KEY')\n    },\n    'staging': {\n        'base_url': 'https://staging-api.scambus.net',\n        'api_key': os.getenv('SCAMBUS_STAGING_API_KEY')\n    },\n    'production': {\n        'base_url': 'https://api.scambus.net',\n        'api_key': os.getenv('SCAMBUS_API_KEY')\n    }\n}\n\nconfig = CONFIGS[ENV]\nclient = ScambusClient(**config)\n</code></pre>"},{"location":"getting-started/authentication/#secret-management","title":"Secret Management","text":"<p>For production applications, use secret management services:</p>"},{"location":"getting-started/authentication/#aws-secrets-manager","title":"AWS Secrets Manager","text":"<pre><code>import boto3\nfrom scambus_client import ScambusClient\n\ndef get_secret(secret_name):\n    client = boto3.client('secretsmanager')\n    response = client.get_secret_value(SecretId=secret_name)\n    return json.loads(response['SecretString'])\n\nsecret = get_secret('scambus/api-key')\nclient = ScambusClient(\n    base_url=secret['url'],\n    api_key=secret['api_key']\n)\n</code></pre>"},{"location":"getting-started/authentication/#hashicorp-vault","title":"HashiCorp Vault","text":"<pre><code>import hvac\nfrom scambus_client import ScambusClient\n\nvault_client = hvac.Client(url='https://vault.example.com')\nvault_client.auth.approle.login(role_id='...', secret_id='...')\n\nsecret = vault_client.secrets.kv.v2.read_secret_version(\n    path='scambus/api-key'\n)\n\nclient = ScambusClient(\n    base_url=secret['data']['data']['url'],\n    api_key=secret['data']['data']['api_key']\n)\n</code></pre>"},{"location":"getting-started/authentication/#environment-variable-files","title":"Environment Variable Files","text":"<p>For local development, use <code>.env</code> files with <code>python-dotenv</code>:</p> <pre><code># .env (DO NOT commit to git)\nSCAMBUS_URL=https://api.scambus.net\nSCAMBUS_API_KEY=your-api-key\n</code></pre> <pre><code>from dotenv import load_dotenv\nimport os\nfrom scambus_client import ScambusClient\n\nload_dotenv()\n\nclient = ScambusClient(\n    base_url=os.getenv('SCAMBUS_URL'),\n    api_key=os.getenv('SCAMBUS_API_KEY')\n)\n</code></pre>"},{"location":"getting-started/authentication/#api-key-rotation","title":"API Key Rotation","text":"<p>To rotate API keys:</p> <ol> <li>Generate a new API key in the Scambus dashboard</li> <li>Update your configuration/secrets with the new key</li> <li>Deploy the change</li> <li>Delete the old API key once confirmed working</li> </ol>"},{"location":"getting-started/authentication/#permissions","title":"Permissions","text":"<p>API keys inherit the permissions of the user who created them. Ensure your user account has the necessary permissions for the operations you need to perform.</p>"},{"location":"getting-started/authentication/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/authentication/#authentication-error","title":"Authentication Error","text":"<pre><code>ScambusAuthenticationError: Invalid API key\n</code></pre> <p>Solutions: - Verify your API key is correct - Check that the key hasn't expired or been revoked - Ensure you're using the correct API endpoint</p>"},{"location":"getting-started/authentication/#missing-api-key","title":"Missing API Key","text":"<pre><code>ValueError: API key is required\n</code></pre> <p>Solutions: - Ensure <code>SCAMBUS_API_KEY</code> environment variable is set - Check for typos in environment variable names - Verify the environment variable is accessible in your context</p>"},{"location":"getting-started/authentication/#best-practices","title":"Best Practices","text":"<ol> <li>Use Environment Variables: Never hardcode API keys</li> <li>Rotate Regularly: Change API keys every 90 days</li> <li>Least Privilege: Use API keys with minimal required permissions</li> <li>Separate Keys: Use different keys for different environments</li> <li>Monitor Usage: Track API key usage for suspicious activity</li> <li>Secure Storage: Use secret management for production</li> <li>Revoke Unused: Delete API keys that are no longer needed</li> </ol>"},{"location":"getting-started/authentication/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Start using the client</li> <li>User Guide - Learn about features</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.8 or higher</li> <li>pip package manager</li> </ul>"},{"location":"getting-started/installation/#install-from-pypi","title":"Install from PyPI","text":""},{"location":"getting-started/installation/#library-only","title":"Library Only","text":"<p>To install just the Python library:</p> <pre><code>pip install scambus-client\n</code></pre> <p>This installs the core library with minimal dependencies (only <code>requests</code>).</p>"},{"location":"getting-started/installation/#library-cli","title":"Library + CLI","text":"<p>To install the library with CLI support:</p> <pre><code>pip install scambus-client[cli]\n</code></pre> <p>This includes additional dependencies: - <code>click</code> - CLI framework - <code>rich</code> - Rich terminal output - <code>tabulate</code> - Table formatting</p>"},{"location":"getting-started/installation/#development-installation","title":"Development Installation","text":"<p>For development, install with all development dependencies:</p> <pre><code>pip install scambus-client[dev]\n</code></pre> <p>This includes: - All CLI dependencies - Testing tools (pytest, pytest-cov) - Code quality tools (black, ruff, isort, mypy) - Pre-commit hooks - Security scanners (bandit)</p>"},{"location":"getting-started/installation/#install-from-source","title":"Install from Source","text":"<p>To install from source (e.g., for development or testing):</p> <pre><code># Clone the repository\ngit clone https://github.com/scambus/scambus-python-client.git\ncd scambus-python-client\n\n# Create a virtual environment (recommended)\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n\n# Install in editable mode with dev dependencies\npip install -e \".[dev]\"\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":""},{"location":"getting-started/installation/#library","title":"Library","text":"<p>Verify the library is installed:</p> <pre><code>import scambus_client\nprint(scambus_client.__version__)\n</code></pre>"},{"location":"getting-started/installation/#cli","title":"CLI","text":"<p>Verify the CLI is installed:</p> <pre><code>scambus --version\n</code></pre>"},{"location":"getting-started/installation/#virtual-environments","title":"Virtual Environments","text":"<p>We recommend using virtual environments to isolate dependencies:</p>"},{"location":"getting-started/installation/#using-venv-built-in","title":"Using venv (built-in)","text":"<pre><code># Create virtual environment\npython -m venv venv\n\n# Activate (Linux/macOS)\nsource venv/bin/activate\n\n# Activate (Windows)\nvenv\\Scripts\\activate\n\n# Install scambus-client\npip install scambus-client[cli]\n</code></pre>"},{"location":"getting-started/installation/#using-conda","title":"Using conda","text":"<pre><code># Create environment\nconda create -n scambus python=3.11\n\n# Activate\nconda activate scambus\n\n# Install scambus-client\npip install scambus-client[cli]\n</code></pre>"},{"location":"getting-started/installation/#upgrading","title":"Upgrading","text":"<p>To upgrade to the latest version:</p> <pre><code>pip install --upgrade scambus-client\n</code></pre> <p>To upgrade with CLI:</p> <pre><code>pip install --upgrade scambus-client[cli]\n</code></pre>"},{"location":"getting-started/installation/#uninstalling","title":"Uninstalling","text":"<p>To uninstall:</p> <pre><code>pip uninstall scambus-client\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#importerror-no-module-named-scambus_client","title":"ImportError: No module named 'scambus_client'","text":"<p>This means the package is not installed. Run:</p> <pre><code>pip install scambus-client\n</code></pre>"},{"location":"getting-started/installation/#command-not-found-scambus","title":"Command not found: scambus","text":"<p>The CLI was not installed. Install with CLI support:</p> <pre><code>pip install scambus-client[cli]\n</code></pre>"},{"location":"getting-started/installation/#permission-denied","title":"Permission denied","text":"<p>On Linux/macOS, you might need to use <code>--user</code>:</p> <pre><code>pip install --user scambus-client[cli]\n</code></pre> <p>Or use a virtual environment (recommended).</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Get started with the library</li> <li>Authentication - Set up API credentials</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>This guide will help you get started with the Scambus Python Client in just a few minutes.</p>"},{"location":"getting-started/quickstart/#installation","title":"Installation","text":"<p>First, install the package:</p> <pre><code>pip install scambus-client[cli]\n</code></pre>"},{"location":"getting-started/quickstart/#authentication","title":"Authentication","text":"<p>Set up your API credentials using environment variables:</p> <pre><code>export SCAMBUS_URL=\"https://api.scambus.net\"\nexport SCAMBUS_API_KEY=\"your-api-key\"\n</code></pre> <p>More on authentication \u2192</p>"},{"location":"getting-started/quickstart/#basic-usage","title":"Basic Usage","text":""},{"location":"getting-started/quickstart/#initialize-the-client","title":"Initialize the Client","text":"<pre><code>from scambus_client import ScambusClient\n\nclient = ScambusClient(\n    base_url=\"https://api.scambus.net\",\n    api_key=\"your-api-key\"\n)\n</code></pre>"},{"location":"getting-started/quickstart/#submit-a-scam-report","title":"Submit a Scam Report","text":"<pre><code># Report a phishing detection\ndetection = client.create_detection(\n    description=\"Phishing email pretending to be from bank\",\n    identifiers=[\"email:scammer@example.com\"],\n    category=\"phishing\",\n    confidence=0.9\n)\nprint(f\"Created detection: {detection.id}\")\n</code></pre>"},{"location":"getting-started/quickstart/#track-an-ongoing-activity","title":"Track an Ongoing Activity","text":"<pre><code>from datetime import datetime\n\n# Start tracking a phone call that's still ongoing\ncall = client.create_phone_call(\n    description=\"Tech support scam call in progress\",\n    direction=\"inbound\",\n    start_time=datetime.now(),\n    identifiers=[\"phone:+1234567890\"],\n    in_progress=True  # No end_time yet\n)\n\n# Later, when the call ends...\ncompleted_call = call.complete(\n    description=\"Scammer hung up after being questioned\"\n)\n</code></pre>"},{"location":"getting-started/quickstart/#search-for-identifiers","title":"Search for Identifiers","text":"<pre><code># Search for an email address\nresults = client.search_identifiers(\n    query=\"scammer@example.com\",\n    identifier_type=\"email\"\n)\n\nfor identifier in results:\n    print(f\"Found: {identifier.value} (confidence: {identifier.confidence})\")\n</code></pre>"},{"location":"getting-started/quickstart/#subscribe-to-data-streams","title":"Subscribe to Data Streams","text":"<pre><code># Create a stream for phone scams\nstream = client.create_stream(\n    name=\"Phone Scams Monitor\",\n    filters={\"type\": \"phone_call\", \"confidence\": 0.8}\n)\n\n# Consume events from the stream\nevents = client.consume_stream(stream.id, limit=100)\nfor event in events:\n    print(f\"New phone scam: {event.description}\")\n</code></pre>"},{"location":"getting-started/quickstart/#manage-cases","title":"Manage Cases","text":"<pre><code># Create an investigation case\ncase = client.create_case(\n    title=\"Phishing Campaign Investigation\",\n    description=\"Investigating coordinated phishing targeting bank customers\",\n    status=\"open\"\n)\n\n# Add a comment\nclient.create_case_comment(\n    case.id,\n    comment=\"Found 15 related identifiers\"\n)\n\n# Update status\nclient.update_case(case.id, status=\"in_progress\")\n</code></pre>"},{"location":"getting-started/quickstart/#cli-usage","title":"CLI Usage","text":"<p>The same operations can be performed using the CLI:</p> <pre><code># Submit a detection\nscambus journal create-detection \\\n    --description \"Phishing email\" \\\n    --identifier email:scammer@example.com \\\n    --category phishing \\\n    --confidence 0.9\n\n# Track an in-progress phone call\nscambus journal create-phone-call \\\n    --description \"Tech support scam\" \\\n    --direction inbound \\\n    --phone \"+1234567890\" \\\n    --in-progress\n\n# Search\nscambus search identifiers --query \"scammer@example.com\"\n\n# Create stream\nscambus streams create \\\n    --name \"Phone Scams\" \\\n    --filter type=phone_call\n\n# Consume from stream\nscambus streams consume &lt;stream-id&gt; --limit 100\n</code></pre>"},{"location":"getting-started/quickstart/#error-handling","title":"Error Handling","text":"<p>Always handle errors appropriately:</p> <pre><code>from scambus_client import (\n    ScambusClient,\n    ScambusAPIError,\n    ScambusAuthenticationError,\n    ScambusValidationError,\n    ScambusNotFoundError\n)\n\ntry:\n    entry = client.create_detection(\n        description=\"Test detection\",\n        identifiers=[\"email:test@example.com\"]\n    )\nexcept ScambusAuthenticationError:\n    print(\"Invalid API key\")\nexcept ScambusValidationError as e:\n    print(f\"Validation error: {e}\")\nexcept ScambusNotFoundError:\n    print(\"Resource not found\")\nexcept ScambusAPIError as e:\n    print(f\"API error: {e}\")\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>User Guide - Learn about all features</li> <li>API Reference - Complete API documentation</li> <li>Examples - More code examples</li> <li>CLI Reference - Full CLI documentation</li> </ul>"},{"location":"user-guide/cases/","title":"Cases","text":"<p>Cases organize related journal entries and identifiers for fraud investigations.</p>"},{"location":"user-guide/cases/#overview","title":"Overview","text":"<p>Cases group together related evidence, identifiers, and activities for coordinated fraud investigations.</p>"},{"location":"user-guide/cases/#creating-cases","title":"Creating Cases","text":"<p>Create cases to organize your investigation work.</p>"},{"location":"user-guide/cases/#managing-cases","title":"Managing Cases","text":"<p>Update case status, add comments, and link evidence.</p> <p>See the API Reference for case management methods.</p>"},{"location":"user-guide/in-progress-activities/","title":"In-Progress Activities","text":"<p>Track ongoing fraud investigation activities with in-progress journal entries.</p>"},{"location":"user-guide/in-progress-activities/#overview","title":"Overview","text":"<p>In-progress activities allow you to create journal entries without an end time, useful for tracking ongoing investigations.</p>"},{"location":"user-guide/in-progress-activities/#usage","title":"Usage","text":"<p>Create an in-progress activity and complete it when finished.</p> <p>See the API Reference for implementation details.</p>"},{"location":"user-guide/journal-entries/","title":"Journal Entries","text":"<p>Journal entries are the core mechanism for submitting scam reports and activities to Scambus.</p>"},{"location":"user-guide/journal-entries/#overview","title":"Overview","text":"<p>Journal entries record activities performed during fraud investigation and prevention. Each entry has a type (detection, phone_call, email, etc.) and associated details.</p>"},{"location":"user-guide/journal-entries/#entry-types","title":"Entry Types","text":"<ul> <li>Detection: Automated or manual fraud detection</li> <li>Phone Call: Scam phone calls</li> <li>Email: Phishing emails</li> <li>Text Conversation: SMS/messaging scams</li> <li>Note: General notes and observations</li> </ul>"},{"location":"user-guide/journal-entries/#creating-journal-entries","title":"Creating Journal Entries","text":"<p>See the API Reference for detailed method documentation.</p>"},{"location":"user-guide/journal-entries/#text-conversations","title":"Text Conversations","text":"<p>Text conversations (SMS, WhatsApp, Telegram, etc.) use a parent-child structure:</p> <ol> <li>Parent entry (<code>text_conversation</code>): Contains metadata about the conversation</li> <li>Child entries (<code>conversation_continuation</code>): Contain the actual messages</li> </ol> <p>This structure allows adding messages incrementally and tracking conversation history over time.</p>"},{"location":"user-guide/journal-entries/#step-1-create-the-parent-conversation","title":"Step 1: Create the Parent Conversation","text":"<pre><code>from datetime import datetime\nfrom scambus_client import ScambusClient\nfrom scambus_client.models import TextConversationDetails\n\nclient = ScambusClient()\n\n# Create the parent text_conversation entry\nparent = client.create_journal_entry(\n    entry_type=\"text_conversation\",\n    description=\"WhatsApp scam conversation - tech support fraud\",\n    details=TextConversationDetails(\n        platform=\"whatsapp\",\n        conversation_type=\"individual\",\n        source_type=\"export\",\n        export_format=\"json\",\n    ).to_dict(),\n    # Define identifiers for participants (referenced in messages via 'ref')\n    identifier_lookups=[\n        {\"type\": \"phone\", \"value\": \"+1555123456\", \"ref\": \"scammer\", \"confidence\": 0.9},\n        {\"type\": \"phone\", \"value\": \"+1555987654\", \"ref\": \"victim\", \"confidence\": 1.0},\n    ],\n)\nprint(f\"Created conversation: {parent.id}\")\n</code></pre>"},{"location":"user-guide/journal-entries/#step-2-add-initial-messages-contiguous","title":"Step 2: Add Initial Messages (Contiguous)","text":"<pre><code>from scambus_client.models import (\n    ConversationContinuationDetails,\n    ConversationMessage,\n    MessageIdentifierRef,\n)\n\n# Create initial batch of messages\ninitial_messages = [\n    ConversationMessage(\n        index=0,\n        message_id=\"msg_001\",\n        timestamp=datetime(2025, 1, 15, 10, 0, 0),\n        body=\"Hello, this is Microsoft Support. Your computer has a virus.\",\n        is_outgoing=False,\n        sender_ref=\"scammer\",  # References identifier_lookup with ref=\"scammer\"\n    ),\n    ConversationMessage(\n        index=1,\n        message_id=\"msg_002\",\n        timestamp=datetime(2025, 1, 15, 10, 1, 30),\n        body=\"Oh no! What should I do?\",\n        is_outgoing=True,\n        sender_ref=\"victim\",\n    ),\n    ConversationMessage(\n        index=2,\n        message_id=\"msg_003\",\n        timestamp=datetime(2025, 1, 15, 10, 2, 15),\n        body=\"Please download TeamViewer and give me access code.\",\n        is_outgoing=False,\n        sender_ref=\"scammer\",\n    ),\n]\n\n# Add as a continuation (child entry)\ncontinuation1 = client.create_journal_entry(\n    entry_type=\"conversation_continuation\",\n    description=\"Initial messages\",\n    details=ConversationContinuationDetails(\n        messages=initial_messages,\n        reason=\"initial import\",\n    ).to_dict(),\n    parent_journal_entry_id=parent.id,  # Link to parent conversation\n    identifier_lookups=[\n        {\"type\": \"phone\", \"value\": \"+1555123456\", \"ref\": \"scammer\"},\n        {\"type\": \"phone\", \"value\": \"+1555987654\", \"ref\": \"victim\"},\n    ],\n)\n</code></pre>"},{"location":"user-guide/journal-entries/#step-3-add-more-messages-later-non-contiguous","title":"Step 3: Add More Messages Later (Non-Contiguous)","text":"<p>When adding messages that don't immediately follow the previous batch (e.g., hours or days later), use <code>non_contiguous=True</code>. This displays a visual separator in the UI.</p> <pre><code># Hours later, the conversation continues...\nlater_messages = [\n    ConversationMessage(\n        index=3,\n        message_id=\"msg_004\",\n        timestamp=datetime(2025, 1, 15, 14, 30, 0),  # 4+ hours later\n        body=\"I gave you access. Now what?\",\n        is_outgoing=True,\n        sender_ref=\"victim\",\n    ),\n    ConversationMessage(\n        index=4,\n        message_id=\"msg_005\",\n        timestamp=datetime(2025, 1, 15, 14, 31, 0),\n        body=\"Please send $500 in gift cards to fix your computer.\",\n        is_outgoing=False,\n        sender_ref=\"scammer\",\n    ),\n]\n\n# Mark as non_contiguous since there's a time gap\ncontinuation2 = client.create_journal_entry(\n    entry_type=\"conversation_continuation\",\n    description=\"Later messages after time gap\",\n    details=ConversationContinuationDetails(\n        messages=later_messages,\n        reason=\"additional messages\",\n        non_contiguous=True,  # Shows visual separator in UI\n    ).to_dict(),\n    parent_journal_entry_id=parent.id,\n    identifier_lookups=[\n        {\"type\": \"phone\", \"value\": \"+1555123456\", \"ref\": \"scammer\"},\n        {\"type\": \"phone\", \"value\": \"+1555987654\", \"ref\": \"victim\"},\n    ],\n)\n</code></pre>"},{"location":"user-guide/journal-entries/#step-4-messages-with-detected-identifiers","title":"Step 4: Messages with Detected Identifiers","text":"<p>When messages contain identifiers (phone numbers, emails, URLs, etc.), use <code>identifier_refs</code> to mark their positions. This enables clickable links in the UI.</p> <pre><code># Message containing a URL and phone number\nmessages_with_identifiers = [\n    ConversationMessage(\n        index=5,\n        message_id=\"msg_006\",\n        timestamp=datetime(2025, 1, 15, 14, 35, 0),\n        body=\"Send the gift cards to this number: +1555999888. Or pay at https://scam-payment.example.com/pay\",\n        is_outgoing=False,\n        sender_ref=\"scammer\",\n        # Mark identifier positions in the message body\n        identifier_refs=[\n            MessageIdentifierRef(\n                ref=\"payment_phone\",  # Local reference\n                field=\"body\",\n                position=37,  # Byte offset where \"+1555999888\" starts\n                length=12,    # Byte length of the identifier\n            ),\n            MessageIdentifierRef(\n                ref=\"payment_url\",\n                field=\"body\",\n                position=61,  # Byte offset where URL starts\n                length=38,\n            ),\n        ],\n    ),\n]\n\n# Add continuation with the new identifiers\ncontinuation3 = client.create_journal_entry(\n    entry_type=\"conversation_continuation\",\n    description=\"Payment instructions from scammer\",\n    details=ConversationContinuationDetails(\n        messages=messages_with_identifiers,\n        reason=\"payment request\",\n        non_contiguous=True,  # Still a time gap from previous\n    ).to_dict(),\n    parent_journal_entry_id=parent.id,\n    identifier_lookups=[\n        {\"type\": \"phone\", \"value\": \"+1555123456\", \"ref\": \"scammer\"},\n        {\"type\": \"phone\", \"value\": \"+1555987654\", \"ref\": \"victim\"},\n        # New identifiers discovered in this batch\n        {\"type\": \"phone\", \"value\": \"+1555999888\", \"ref\": \"payment_phone\", \"confidence\": 0.95},\n        {\"type\": \"url\", \"value\": \"https://scam-payment.example.com/pay\", \"ref\": \"payment_url\", \"confidence\": 1.0},\n    ],\n)\n</code></pre>"},{"location":"user-guide/journal-entries/#identifier-position-calculation","title":"Identifier Position Calculation","text":"<p>The <code>position</code> and <code>length</code> fields use byte offsets (UTF-8 encoded). For ASCII text:</p> <pre><code>body = \"Send the gift cards to this number: +1555999888. Or pay at https://scam-payment.example.com/pay\"\n\n# Find byte position of the phone number\nphone = \"+1555999888\"\nposition = body.encode('utf-8').find(phone.encode('utf-8'))  # 37\nlength = len(phone.encode('utf-8'))  # 12\n\n# For non-ASCII text, be careful with byte offsets\nbody_unicode = \"Message: \u4f60\u597d call +1555123456\"\nposition = body_unicode.encode('utf-8').find(b'+1555123456')  # 18 (not 13!)\n</code></pre>"},{"location":"user-guide/journal-entries/#key-points","title":"Key Points","text":"<ul> <li>Parent-child structure: Always create a <code>text_conversation</code> parent first, then add <code>conversation_continuation</code> children</li> <li>Message indices: Must be sequential integers (0, 1, 2, ...) across the entire conversation</li> <li><code>sender_ref</code>: References the <code>ref</code> field from <code>identifier_lookups</code></li> <li><code>non_contiguous</code>: Set to <code>True</code> when there's a significant time gap (shows visual separator)</li> <li><code>identifier_refs</code>: Use byte offsets to mark identifier positions in message text</li> </ul>"},{"location":"user-guide/media/","title":"Media","text":"<p>Upload and manage media files (screenshots, recordings, documents) related to scam reports.</p>"},{"location":"user-guide/media/#overview","title":"Overview","text":"<p>Media files provide visual evidence for fraud reports.</p>"},{"location":"user-guide/media/#uploading-media","title":"Uploading Media","text":"<p>Upload files from local filesystem or in-memory buffers.</p>"},{"location":"user-guide/media/#managing-media","title":"Managing Media","text":"<p>Retrieve and organize media files associated with journal entries.</p> <p>See the API Reference for media upload methods.</p>"},{"location":"user-guide/search/","title":"Search","text":"<p>Search for identifiers and cases in the Scambus system.</p>"},{"location":"user-guide/search/#overview","title":"Overview","text":"<p>The search functionality allows you to find identifiers (phone numbers, emails, etc.) and cases based on various criteria.</p>"},{"location":"user-guide/search/#searching-identifiers","title":"Searching Identifiers","text":"<p>Search for identifiers by value, type, or other attributes.</p>"},{"location":"user-guide/search/#searching-cases","title":"Searching Cases","text":"<p>Search for investigation cases by title, status, or other metadata.</p> <p>See the API Reference for search method documentation.</p>"},{"location":"user-guide/streams/","title":"Export Streams","text":"<p>Export streams allow you to consume journal entries and other data from Scambus in real-time.</p>"},{"location":"user-guide/streams/#overview","title":"Overview","text":"<p>Export streams provide a cursor-based pagination mechanism for retrieving data from Scambus.</p>"},{"location":"user-guide/streams/#creating-streams","title":"Creating Streams","text":"<p>Create streams with filters to specify what data you want to receive.</p>"},{"location":"user-guide/streams/#consuming-streams","title":"Consuming Streams","text":"<p>Poll streams to retrieve new data since your last cursor position.</p> <p>See the API Reference for stream management methods.</p>"},{"location":"user-guide/tags/","title":"Tags","text":"<p>Tags provide flexible metadata and categorization for identifiers and other entities.</p>"},{"location":"user-guide/tags/#overview","title":"Overview","text":"<p>Tags allow you to categorize and label entities in the Scambus system.</p>"},{"location":"user-guide/tags/#tag-types","title":"Tag Types","text":"<ul> <li>Boolean tags: Simple true/false flags</li> <li>Valued tags: Tags with associated values</li> </ul>"},{"location":"user-guide/tags/#managing-tags","title":"Managing Tags","text":"<p>Create, update, and apply tags to entities.</p> <p>See the API Reference for tag management methods.</p>"}]}